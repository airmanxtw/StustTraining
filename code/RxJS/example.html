<html>
    <head>
        <script src="https://unpkg.com/rxjs@^7/dist/bundles/rxjs.umd.min.js"></script>
    </head>
    <body>
        <script>
            const { range, filter, map,from,groupBy,count,mergeMap,toArray,reduce } = rxjs;
            let data=[1,2,2,3,3,3,3];
            from(data)
            .pipe(
               groupBy(item => item,{ element: item => item }),
               mergeMap(group$ => group$.pipe(reduce((acc, cur) => [...acc, cur], [`${ group$.key }`]))),
               map(arr => ({ id: parseInt(arr[0], 10), values: arr.slice(1) }))
            )
            .subscribe(x => console.log(x))

        </script>
    </body>
</html>